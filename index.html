<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análises QANX vs BTC</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 5px;
        }

        .nav-bar {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .nav-item {
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .nav-item:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }

        .section {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .chart-container {
            height: 400px;
            margin: 20px 0;
        }

        .button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: darker(#007bff);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .section {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Análises QANX vs BTC</h1>
        </header>

        <nav class="nav-bar">
            <div class="nav-item" onclick="showSection('overview')">Overview</div>
            <div class="nav-item" onclick="showSection('charts')">Gráficos</div>
            <div class="nav-item" onclick="showSection('strategies')">Estratégias</div>
        </nav>

        <div class="section" id="overview">
            <h2>Visão Geral</h2>
            <div id="overview-content"></div>
        </div>

        <div class="section" id="charts">
            <h2>Gráficos</h2>
            <canvas id="priceChart"></canvas>
            <canvas id="volumeChart"></canvas>
        </div>

        <div class="section" id="strategies">
            <h2>Estratégias</h2>
            <div id="strategies-content"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        async function load_data() {
            try {
                const btcData = await fetch('data/btc_info.json');
                const btcInfo = await btcData.json();

                const qanxData = await fetch('data/qanx_info.json');
                const qanxInfo = await qanxData.json();

                document.getElementById('overview-content').innerHTML = `
                    <div>Preço atual do BTC: $${btcInfo.current_price.toFixed(2)}</div>
                    <div>Variação 24h do BTC: ${btcInfo.price_change_24h >= 0 ? '+' : ''}${btcInfo.price_change_24h.toFixed(2)}%</div>
                    <div>Preço atual do QANX: R$${qanxInfo.current_price.toFixed(2)}</div>
                    <div>Variação 24h do QANX: ${qanxInfo.price_change_24h >= 0 ? '+' : ''}${qanxInfo.price_change_24h.toFixed(2)}%</div>
                `;

                renderCharts(btcInfo, qanxInfo);
            } catch (error) {
                console.error('Erro ao carregar dados:', error);
                document.getElementById('overview-content').innerHTML = `
                    <div style="color: red;">Erro ao carregar dados. Verifique os arquivos JSON.</div>
                `;
            }
        }

        function renderCharts(btcData, qanxData) {
            const priceCtx = document.getElementById('priceChart').getContext('2d');
            new Chart(priceCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Apr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'BTC',
                        data: btcData.prices.map(p => p.price),
                        borderColor: '#007bff',
                        tension: 0.1
                    }, {
                        label: 'QANX',
                        data: qanxData.prices.map(p => p.price),
                        borderColor: '#ff6b6b',
                        tension: 0.1
                    }]
                }
            });

            const volumeCtx = document.getElementById('volumeChart').getContext('2d');
            new Chart(volumeCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Fev', 'Mar', 'Apr', 'Mai', 'Jun'],
                    datasets: [{
                        label: 'Volume BTC',
                        data: btcData.volumes,
                        backgroundColor: '#007bff'
                    }, {
                        label: 'Volume QANX',
                        data: qanxData.volumes,
                        backgroundColor: '#ff6b6b'
                    }]
                }
            });
        }

        function showSection(section) {
            document.querySelectorAll('.section').forEach(sectionEl => {
                sectionEl.style.display = 'none';
            });
            document.getElementById(section).style.display = 'block';
        }

        // Carregar página ao terminar de载入
        window.onload = function() {
            load_data();
            showSection('overview');
        };
    </script>
</body>
</html>